---
layout: post
title: CppCoreGuidelines C.5 类的帮助函数跟类放在相同的名字空间里
categories: [programming]
tags: [CppCoreGuidelines]
---
<p>
<a href="http://kimi.im/tags.html#CppCoreGuidelines-ref">C++ 核心指南目录</a>
</p>

<p>
C.5: Place helper functions in the same namespace as the class they support
</p>


<p>
<b>理由</b>
</p>

<p>
帮助函数（Helper Function）虽然不需要直接访问类的内部数据，但也是类的有用接口。帮助函数和类放在一个名字空间里，可以强化他们的关系，查找函数时，可以根据参数类型获取提示信息。
</p>


<p>
<b>例子</b>
</p>

<div class="org-src-container">
<pre class="src src- src-C++"><span style="color: #7F0055; font-weight: bold;">namespace</span> <span style="color: #000000; font-style: italic; text-decoration: underline;">Chrono</span> <span style="color: #707183;">{</span> <span style="color: #3F7F5F;">// here we keep time-related services</span>

    <span style="color: #7F0055; font-weight: bold;">class</span> <span style="color: #000000; font-style: italic; text-decoration: underline;">Time</span> <span style="color: #7388d6;">{</span> <span style="color: #3F7F5F;">/* ... */</span> <span style="color: #7388d6;">}</span>;
    <span style="color: #7F0055; font-weight: bold;">class</span> <span style="color: #000000; font-style: italic; text-decoration: underline;">Date</span> <span style="color: #7388d6;">{</span> <span style="color: #3F7F5F;">/* ... */</span> <span style="color: #7388d6;">}</span>;

    <span style="color: #3F7F5F;">// helper functions:</span>
    <span style="color: #7F0055; font-weight: bold;">bool</span> operator<span style="color: #7F0055; font-weight: bold;">==</span><span style="color: #7388d6;">(</span><span style="color: #000000; font-style: italic; text-decoration: underline;">Date</span>, <span style="color: #000000; font-style: italic; text-decoration: underline;">Date</span><span style="color: #7388d6;">)</span>;
    <span style="color: #000000; font-style: italic; text-decoration: underline;">Date</span> <span style="color: #0000ff; font-weight: bold;">next_weekday</span><span style="color: #7388d6;">(</span><span style="color: #000000; font-style: italic; text-decoration: underline;">Date</span><span style="color: #7388d6;">)</span>;
    <span style="color: #3F7F5F;">// ...</span>
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
<b>注意</b>
</p>

<p>
此规则尤其适用于重载的操作符函数。
</p>


<p>
<b>强化</b>
</p>

<p>
标注那些参数类型都限定在同一个名字空间的全局函数。
</p>
