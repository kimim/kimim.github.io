---
layout: post
title: CppCoreGuidelines C.1 把相关数据整理到数据结构中（struct/class）
categories: [programming]
tags: [CppCoreGuidelines]
---
<p>
<a href="http://kimi.im/tags.html#CppCoreGuidelines-ref">C++ 核心指南目录</a>
</p>

<p>
C.1: Organize related data into structures (structs or classes)
</p>


<p>
<b>理由</b>
</p>

<p>
更容易理解。相关的数据，也要体现在代码中。
</p>


<p>
<b>例子</b>
</p>

<div class="org-src-container">
<pre class="src src-bad src-C++"><span style="color: #3F7F5F;">// BAD: unnecessary implicit relationships</span>
<span style="color: #7F0055; font-weight: bold;">void</span> <span style="color: #0000ff; font-weight: bold;">draw</span><span style="color: #707183;">(</span><span style="color: #7F0055; font-weight: bold;">int</span> <span style="color: #000000;">x</span>, <span style="color: #7F0055; font-weight: bold;">int</span> <span style="color: #000000;">y</span>, <span style="color: #7F0055; font-weight: bold;">int</span> <span style="color: #000000;">x2</span>, <span style="color: #7F0055; font-weight: bold;">int</span> <span style="color: #000000;">y2</span><span style="color: #707183;">)</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src- src-C++"><span style="color: #3F7F5F;">// better</span>
<span style="color: #7F0055; font-weight: bold;">void</span> <span style="color: #0000ff; font-weight: bold;">draw</span><span style="color: #707183;">(</span><span style="color: #000000; font-style: italic; text-decoration: underline;">Point</span> <span style="color: #000000;">from</span>, <span style="color: #000000; font-style: italic; text-decoration: underline;">Point</span> <span style="color: #000000;">to</span><span style="color: #707183;">)</span>;
</pre>
</div>

<p>
<b>注意</b>
</p>

<p>
没有虚函数的简单类，不会导致多余的空间和时间开销。
</p>


<p>
<b>注意</b>
</p>

<p>
从开发语言角度来看， <code>class</code> 和 <code>struct</code> 只是成员默认的可见性不一样。
<code>class</code> 的成员默认为 <code>private</code> ，而 <code>struct</code> 的成员默认是 <code>public</code> 。
</p>


<p>
<b>强化</b>
</p>

<p>
比较难。但是可以考虑那些放在一起用的数据，是否属于同一个结构？
</p>
