---
layout: post
title: 假设验证 Hypothesis Testing
tags: [statistics,l6s]
categories: [management]
latex_header: \usepackage{ctex}
---
<p>
假设验证（Hypothesis Testing）是统计推断的一类重要问题。
</p>

<p>
在总体的分布函数完全未知或只知其形式，但不知其参数的情况下，为了推断总体的某些未知特性，提出关于总体的假设。然后，根据少量样本的观测情况，对所提出的假设作出是接受，还是拒绝的决策。
</p>

<p>
比如，我们可以提出总体服从泊松分布的假设，然后根据实际样本接受这个假设，或推翻拒绝这个假设。
</p>

<p>
比如，我们也可以对正态分布的总体提出数学期望等于\(\mu_0\)的假设，然后根据实际样本，接受或拒绝这个假设。在统计推断时，我们会提出两个相互对立的假设，分别是原假设/零假设（Null Hypothesis）和备择假设（Alternative
Hypothesis）。备择假设意味着，在原假设被拒绝后可供选择的假设。
</p>

<p>
以包装机包装为例，每袋包装的重量是个随机变量，它服从正态分布。当机器正常时，均值为0.5公斤，标准差为0.015公斤。某日开工后，为了检验包装机是否工作正常，随机抽取它所包装的产品 9 袋，称得重量为：
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-right">0.497</td>
<td class="org-right">0.506</td>
<td class="org-right">0.518</td>
<td class="org-right">0.524</td>
<td class="org-right">0.498</td>
<td class="org-right">0.511</td>
<td class="org-right">0.520</td>
<td class="org-right">0.515</td>
<td class="org-right">0.512</td>
</tr>
</tbody>
</table>

<p>
请问这一天机器是否正常工作？
</p>

<p>
以\(\mu\)和 \(\sigma\) 分别表示这一天产品包装重量的总体\(X\)的均值（ mean ）和标准差（standard deviation）。一般标准差比较稳定，所以可以假设
\(\sigma = 0.015\) 。于是\(X \sim N(\mu, 0.015^2)\)。这里\(\mu\)未知，问题是根据样本判断\(\mu = 0.5\)还是\(\mu \neq 0.5\)。
</p>

<p>
于是，我们可以提出两个相互对立的假设：
</p>

<p>
\[H_0: \mu = \mu_0 = 0.5\]
</p>

<p>
\[H_1: \mu \neq \mu_0\]
</p>

<p>
因为\(\bar{X}\)是 \(\mu\) 的无偏估计，\(\bar(X)\)的观察值
\(\bar{x}\) 的大小在一定程度上反映\(\mu\)的大小。无偏估计（unbiased
estimation）是用统计样本量来估计总体参数的一种无偏推断。估计量的数学期望等于被估计参数的真实值，则称此估计量为被估计参数的无偏估计。
</p>

<p>
如果假设\(H_0\)为真，则观察值\(\bar{x}\)与 \(\mu_0\) 的偏差
\(|\bar{x} - \mu_0|\) 一般不应太大。若\(|\bar{x} - \mu_0|\)过分大，我们就可以怀疑假设\(H_0\)的正确性，而拒绝\(H_0\)。
</p>

<p>
考虑到\(H_0\)为真时，\(\bar{X} \sim N(\mu_0, \sigma)\) ，于是
\(\frac{\bar{X} - \mu_0}{\sigma / \sqrt{n}} \sim N(0, 1)\)。而衡量
\(|\bar{x} - \mu_0|\) 的大小，就可归结为衡量 \(\frac{|\bar{x} -
\mu_0|}{\sigma / \sqrt{n}}\) 的大小。
</p>

<p>
这样，我们就可以选定一个较小的正数 \(k\)，使得，当观察值 \(\bar{x}\)
满足\(\frac{|\bar{x} - \mu_0|}{\sigma / \sqrt{n}} \geq k\)时，就拒绝假设 \(H_0\)，反之，若 \(\frac{|\bar{x} - \mu_0|}{\sigma / \sqrt{n}} <
k\) ，就接受假设 \(H_0\)。
</p>

<p>
然而，对于不同的样本，相同的\(k\)取值，也会得到不同的拒绝\(H_0\)的概率。这样就没有参考意义。所以，需要控制当\(H_0\)为真时，拒绝
\(H_0\) 的概率的大小。假设一个值\(\alpha (0 < \alpha < 1)\)，使得犯这种错的概率在可接受范围内。
</p>

<p>
\[ P\{\text{当} H_0 \text{为真时，拒绝} H_0\} \leq \alpha \]
</p>

<p>
因为\(P\)的最大取值为 \(\alpha\)，所以得到：
</p>

<p>
\[ P\{\text{当} H_0 \text{为真时，拒绝} H_0\}
= P_{\mu_0} \{ \frac{|\bar{x} - \mu_0|}{\sigma / \sqrt{n}} \geq k \}
= \alpha
\]
</p>

<p>
由于当\(H_0\)为真时，\(Z = \frac{\bar{X} - \mu_0}{\sigma / \sqrt{n}}
\sim N(0, 1)\)。得出，使 \(P_{\mu_0} \{ \frac{|\bar{x} -
\mu_0|}{\sigma / \sqrt{n}} \geq k \} = \alpha\) 成立的\(k\)值为
\(z_{\alpha/2}\) 。
</p>

<p>
因此，若\(Z\)观察值满足 \[|z| = \frac{|\bar{x} -
\mu_0|}{\sigma / \sqrt{n}} \geq k  = z_{\alpha/2}\] ，则拒绝 \(H_0\)。
</p>

<p>
而 \[|z| = \frac{|\bar{x} - \mu_0|}{\sigma / \sqrt{n}} < k =
z_{\alpha/2}\] ，则接受\(H_0\)。
</p>

<p>
回到本例子，\(\alpha = 0.05\) ，则有 \(k=z_{0.05/2} = z_{0.025} =
1.96\)，又已知\(n = 9, \mu_0 = 0.5, \sigma = 0.015, \bar{x} = 0.511\)即有：
</p>

<p>
\[|\frac{\bar{x}-\mu_0}{\sigma /\sqrt{n}}| 
= |\frac{0.511 - 0.5}{0.015/\sqrt{9}}| 
= |\frac{0.011}{0.005}|
= 2.2 > 1.96
\]
</p>

<p>
于是，拒绝 \(H_0\)。所以可以认为这一天包装机器工作不正常。
</p>
