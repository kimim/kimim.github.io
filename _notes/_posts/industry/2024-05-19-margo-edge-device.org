#+LAYOUT: post
#+TITLE: 边缘计算新标准 Margo：边缘设备
#+TAGS: industry
#+CATEGORIES: industry

我之前介绍了 [[./2024-05-16-margo.org][Margo 边缘计算标准]]的整体情况。今天再看看边缘设备部分的要求吧。

Margo 边缘设备（Margo Edge Device）指的是安装在客户网络环境重，运行
Margo 标准应用的计算节点。

[[file:./System-design.drawio.svg]]

Margo 边缘设备必须符合以下要求：
- 支持硬件安全模块 TPM
- 安全启动
- 来源鉴权
- 零信任网络访问

有了这些基本功能，一个 Margo 边缘设备就能安全连入客户网络，然后由工作
负载编排软件给设备安装 Margo 应用。这时候，就要根据 Margo 设备的不同性
能，区分为以下几种设备类型：
- 独立集群服务器
- 集群主节点
- 集群工作从节点
- 独立设备
- 嵌入式微设备

*集群主节点* 可以管理一个或多个集群工作从节点组成的集群。集群主节点提供以
下能力：
- Kubernetes 集群主控节点功能
- 最基本的 Kubernetes 控制节点 API
- 工作负载编排代理功能（Workload Orchestration Agent），主要用于访问
  Margo 应用的仓库
- 监控访问 API
- 策略代理 API
- 设备编排代理 API

*集群工作从节点* 运行资源比主节点少，运行 Margo 应用。由主节点进行编排。
提供以下能力：
- OCI 容器运行时环境
- OTEL 诊断收集功能
- 策略代理
- 设备编排代理

*独立集群服务器* 功能更多一些：
- 在单独一个设备中既提供集群主节点服务，又提供工作从节点服务。
- 部署好之后，可以在主节点或从节点之间切换

*独立设备* 可以运行 Margo 应用，但是不支持边缘 Kubernetes 环境。
- 运行工作编排代理
- 可以额外运行 OCI 容器运行时环境，OTEL 诊断收集，策略代理等
